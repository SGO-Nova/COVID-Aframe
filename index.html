<html>
  <head>
    <script src="libs/aframe.min.js"></script>

    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v1.14.0/dist/aframe-extras.min.js"></script>

    <script>
      AFRAME.registerComponent("turnon-off", {
        init: function () {
          var data = this.data;
          var el = this.el;

          el.addEventListener("click", function () {
            if (el.getAttribute("light").intensity == 0.3) {
              el.setAttribute("light", { intensity: 0.01 });
            } else {
              el.setAttribute("light", { intensity: 0.3 });
            }
          });
        },
      });
    </script>
    <script>
      AFRAME.registerComponent("covid", {
        init: function () {
          var data = this.data;
          var el = this.el;
          var mu = document.querySelector("#mungus");
          var an = document.querySelector("#animu");
          var sc = document.querySelector("#screen");

          el.addEventListener("click", function () {
            console.log(sc.getAttribute("material").src);
            if (sc.getAttribute("material").src == mu) {
              sc.setAttribute("material", { src: an });
            } else {
              sc.setAttribute("material", { src: mu });
            }
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video id="mungus" autoplay loop="true" src="mungus.mp4"></video>
        <video id="animu" autoplay loop="true" src="FavAnimu.mp4"></video>
      </a-assets>
      <a-sky color="#87CEEB"></a-sky>
      <a-entity position="0 0 0">
        <a-camera universal-controls>
          <a-entity
            raycaster="far: 150; objects: .intersectable"
            cursor
            geometry="primitive: ring; radiusOuter: 0.0015;
            radiusInner: 0.001; segmentsTheta: 32"
            material="color: #283644; shader: flat"
            position="0 0 -0.1"
          ></a-entity>
        </a-camera>
      </a-entity>

      <!--Self made objects-->
      <assets>
        <a-asset-item id="desk" src="Desk.obj"></a-asset-item>
        <a-asset-item id="desk_matterial" src="Desk.mtl"></a-asset-item>
      </assets>
      <a-entity
        obj-model="obj: #desk; mtl: #desk_matterial"
        scale=".5 .5 .5"
        position="-4.753 0.368 -7.214"
        shadow="recieve: true"
      ></a-entity>

      <!--Box interaction-->
      <a-box
        color="#cecece"
        width=".1"
        height=".1"
        depth=".1"
        position=".99 1.5 -1 "
        class="intersectable"
        covid
      ></a-box>

      <!--FLOOR-->
      <a-box
        color="#4e433f"
        shadow="recieve: true"
        material="shader: flat"
        width="20"
        height="1"
        depth="20"
        position="-9 0 -9"
      >
      </a-box>

      <!--Lights-->
      <a-entity
        id="lightSphere"
        geometry="primitive: sphere; radius: .1"
        light="type: point; color: #FFF; castShadow: true; intensity: .1"
        position="5 5 0"
        material="color:#212121"
      >
      </a-entity>
      <a-light type="ambient" intensity="0.5"></a-light>
      <a-entity
        geometry="primitive: sphere; radius: .16"
        light="type: point; color: #FFF; castShadow: true; intensity: .3"
        position="-2.06 2.45 -4.119"
        material="color:#FFFFFF"
        class="intersectable"
        turnon-off
      >
      </a-entity>

      <!--CEILING-->
      <a-box
        color="#DEDEDE"
        shadow="recieve: true"
        width="20"
        height="1"
        depth="20"
        position="-4.03281 3 -3.03761"
        material=""
        geometry=""
        scale="0.5 0.5 0.5"
        visible=""
      >
      </a-box>

      <!--Walls-->
      <a-box
        color="#F0EAD6"
        shadow="cast: true"
        width=".1"
        height="4"
        depth="3.08"
        position="-1 2 -0.51"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="cast: true"
        width=".1"
        height="4"
        depth="7.08"
        position="1 2 -2.51"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width=".1"
        height=".75"
        depth="2"
        position="1 .75 -7.01"
      ></a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width=".1"
        height=".75"
        depth="2"
        position="1 2.75 -7.01"
      ></a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width=".1"
        height="4"
        depth="1"
        position="1 2 -8"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width=".1"
        height="4"
        depth="7.08"
        position="-4 2 -2.51"
      ></a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width=".1"
        height="4"
        depth="2"
        position="-5 2 -7.01"
      ></a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="5"
        height="4"
        depth=".1"
        position="-1.5 2 1"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="1.5"
        height="4"
        depth=".1"
        position="-1.75 2 -2"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="1.5"
        height="2"
        depth=".1"
        position="-2.75 3 -2"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="1.5"
        height="4"
        depth=".1"
        position="-4.25 2 -2"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="1"
        height="4"
        depth=".1"
        position="-4.5 2 -6"
      >
      </a-box>
      <a-box
        color="#F0EAD6"
        shadow="recieve: true"
        width="6"
        height="3"
        depth=".1"
        position="-2.0 2 -8"
      >
      </a-box>

      <!--Doors-->
      <a-box
        color="#FFF"
        width=".1"
        height="2"
        depth="1"
        position=".99 1.5 0"
        material="src: door.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height="2"
        depth="1"
        position="-3 1.5 -2.01"
        rotation="0 90 0"
        material="src: door.jpg"
      >
      </a-box>

      <!--Chair-->
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.99 0.418 -7.236"
        rotation="90 0 0"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.993 0.418 -6.8"
        rotation="90 0 0"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.791 0.869 -7.011"
        scale="5.01 1 .556"
        shadow="recieve: true"
        material="src: wood.jpg"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.595 0.408 -7.235"
        rotation="90 0 0"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.593 0.408 -6.786"
        rotation="90 0 0"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.571 1.148 -6.875"
        rotation="-90 0 0"
        scale=".49 1 .54"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.571 1.148 -7.170"
        rotation="-90 0 0"
        scale=".49 1 .54"
        shadow="recieve: true"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-3.583 1.279 -7.011"
        scale="0.750 3.530 0.480"
        shadow="recieve: true"
        material="src: wood.jpg"
      >
      </a-box>

      <!--PC-->
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-4.467 1.506 -7.762"
        scale="7.100 5.830 0.250"
        shadow="recieve: true"
        material="src: metal.jpg"
      >
      </a-box>

      <!--Monitor-->
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-4.472 1.405 -7.011"
        scale="0.422 3.530 0.112"
        rotation="0 0 -19.906"
        material="src: plastic.jpg"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-4.507 1.210 -7.028"
        scale="2.390 0.538 0.480"
        material="src: plastic.jpg"
      >
      </a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-4.402 1.660 -6.990"
        scale="0.333 5.039 1.012"
      >
      </a-box>
      <!--screen-->
      <a-plane
        id="screen"
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-4.379 1.660 -6.990"
        scale="11 5.039 1.012"
        material="src: #animu"
        rotation="0 90 0"
        sound="src: url(Never Gonna Give You Up.mp3); on: click; volume: .5"
        class="intersectable"
      >
      </a-plane>

      <!--Bed-->
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-0.809 0.418 -7.875"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-2.468 0.418 -7.875"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-0.809 0.418 -5.723"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-2.468 0.418 -5.723"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-1.662 0.888 -6.779"
        rotation="90 0 0"
        scale="20.448 23.405 0.2"
        shadow="recieve: true"
        material="src: blue.jpg"
      ></a-box>

      <!--pillows-->
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-2.089 1.029 -7.494"
        rotation="90 0 0"
        scale="7.721 4.920 0.070"
        shadow="recieve: true"
        material="src: pillow.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-1.239 1.029 -7.494"
        rotation="90 0 0"
        scale="7.721 4.920 0.070"
        shadow="recieve: true"
        material="src: pillow.jpg"
      ></a-box>

      <!--FAN-->
      <a-cylinder
        color="black"
        height="1"
        radius=".1"
        position="-2.06 3 -4.119"
      >
        <a-animation
          attribute="rotation"
          to="0 360 0"
          dur="3000"
          repeat="indefinite"
          easing="linear"
        >
        </a-animation>
        <a-box
          width="1"
          height=".005"
          depth=".2"
          position="-.5 -.4 0"
          rotation="10 0 0"
        >
        </a-box>
        <a-box
          width="1"
          height=".005"
          depth=".2"
          position=".5 -.4 0"
          rotation="-10 0 0"
        >
        </a-box>
        <a-box
          width=".2"
          height=".005"
          depth="1"
          position="0 -.4 .5"
          rotation="0 0 -10"
        >
        </a-box>
        <a-box
          width=".2"
          height=".005"
          depth="1"
          position="0 -.4 -.5"
          rotation="0 0 10"
        >
        </a-box>
      </a-cylinder>

      <!--nightstand-->
      <a-box
        color="#FFF"
        width=".75"
        height=".1"
        depth="1"
        position=".125 0.918 -7.625"
        rotation="0 90 0"
        shadow="recieve: true"
        material="src: wood.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-.25 0.418 -7.875"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position=".5 0.418 -7.875"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position="-.25 0.418 -7.375"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
      <a-box
        color="#FFF"
        width=".1"
        height=".1"
        depth="1"
        position=".5 0.418 -7.375"
        rotation="90 0 0"
        shadow="recieve: true"
        material="src: table.jpg"
      ></a-box>
    </a-scene>
  </body>
</html>
